
<!DOCTYPE html>
<html>
<body>
    <h2>Credit Card Transaction Dispute</h2>
<h3>We'd be happy to help you dispute your transaction</h3>
    <h4>Merchant Name: <span id="first_name"></span></h4>
    <h4>Amount: <span id="last_name"></span></h4>
    <h4>Date: <span id="last_name"></h4>
   <h2>Dispute Form</h2>
<p> Please select the option below that best describes the reason for your inquiry:<p>
<form>
  <input type="radio" name = "dispute" value="notrx" checked> I don't recognize this transaction<br>
  <input type="radio" name = "dispute" value="cancl"> I've cancelled<br>
  <input type="radio" name = "dispute"  value="morethanone"> I've been billed more than once for this  <br>
    <input type="radio" name = "dispute"  value="morebill"> I've been billed too much  <br>
    <input type="radio" name = "dispute" value="none"> None of the above 
</form> 
   <br>
    <button onclick="submitbtn()">Submit Dispute</button>
    <button onclick="cancelbtn()">Cancel</button>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>

var parameters = new URL(window.location).searchParams;

document.getElementById("first_name").innerHTML =  parameters.get('fName') //1

document.getElementById("last_name").innerHTML =  parameters.get('lName') //2
    
var callbackURL = parameters.get('callbackURL');
    
var callbackvalue;

function sendCallBack(cbUrl, cbData) {
    
 
  var cbDataVal = JSON.stringify({outputfromWeb: cbData}); 
    
var settings = {
  "async": true,

  "crossDomain": true,
  "url": cbUrl,
  "method": "POST",
  "headers": {
     "accept": "application/json"
     


  },
  "processData": false,
  "data": cbDataVal
}

 alert("Making call to URL:"+ cbUrl + " with data: "+ cbDataVal);
    
$.ajax(settings).done(function (response) {
  console.log(response);
});
}
    
function submitbtn() {
  callbackvalue = "Submitted succesfully";
  sendCallBack(callbackURL,callbackvalue);
}
    
function cancelbtn() {
  callbackvalue = "Not submitted";
  sendCallBack(callbackURL,callbackvalue);
}    

</script>


 
</body>
</html>